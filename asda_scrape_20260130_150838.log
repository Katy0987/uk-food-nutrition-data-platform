2026-01-30 15:08:38,926 - INFO - ================================================================================
2026-01-30 15:08:38,927 - INFO - ğŸš€ Starting Asda Supermarket Scraping
2026-01-30 15:08:38,927 - INFO - ================================================================================
2026-01-30 15:08:39,154 - INFO - âœ… Successfully connected to MongoDB
2026-01-30 15:08:39,154 - INFO - ğŸ“‹ Scraping 9 categories
2026-01-30 15:08:39,154 - INFO - ğŸ“… Date: 2026-01-30
2026-01-30 15:08:39,155 - INFO - ğŸ¯ Target: 50 products per category
2026-01-30 15:08:39,155 - INFO - 
2026-01-30 15:08:39,155 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:08:39,155 - INFO - ğŸ“¦ [1/9] Category: Fruit
2026-01-30 15:08:39,155 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:08:42,945 - INFO - ğŸ›’ Opening Category: Fruit
2026-01-30 15:08:42,945 - INFO -    URL: https://www.asda.com/groceries/fruit-veg-flowers/fruit
2026-01-30 15:08:48,773 - INFO - ğŸª Cookie banner cleared.
2026-01-30 15:08:51,782 - INFO -    ğŸ“œ Scrolling to load products...
2026-01-30 15:08:59,488 - INFO -    ğŸ” Category filter - Keywords: veg, flowers, fruit
2026-01-30 15:08:59,491 - INFO -    ğŸ” Analyzing 133 links...
2026-01-30 15:08:59,492 - INFO -    ğŸ”— Found 30 potential product links (filtered by category)
2026-01-30 15:08:59,492 - INFO -    ğŸ“¦ Starting to scrape products...
2026-01-30 15:08:59,492 - INFO -    ğŸ“¦ [1/30] Scraping...
2026-01-30 15:09:03,897 - INFO -       â­ï¸  Skipped: Wrong category (expected 'Fruit', got 'apples')
2026-01-30 15:09:04,741 - INFO -    ğŸ“¦ [2/30] Scraping...
2026-01-30 15:09:09,082 - INFO -       â­ï¸  Skipped: Wrong category (expected 'Fruit', got 'white potatoes')
2026-01-30 15:09:10,228 - INFO -    ğŸ“¦ [3/30] Scraping...
2026-01-30 15:09:13,412 - INFO -       â­ï¸  Skipped: Wrong category (expected 'Fruit', got 'apples')
2026-01-30 15:09:14,599 - INFO -    ğŸ“¦ [4/30] Scraping...
2026-01-30 15:09:18,326 - INFO -       â­ï¸  Skipped: Wrong category (expected 'Fruit', got 'peaches, plums, nectarines & apricots')
2026-01-30 15:09:19,783 - INFO -    ğŸ“¦ [5/30] Scraping...
2026-01-30 15:09:22,962 - INFO -       â­ï¸  Skipped: Wrong category (expected 'Fruit', got 'grapes')
2026-01-30 15:09:24,087 - INFO -    ğŸ“¦ [6/30] Scraping...
2026-01-30 15:09:29,388 - INFO -       âœ… Got: Love Me Tender Pomelo (Â£1.98)
2026-01-30 15:09:30,289 - INFO -    ğŸ“¦ [7/30] Scraping...
2026-01-30 15:09:33,490 - INFO -       âœ… Got: ASDA Juicy & Sweet Pineapple Lolly 80g (Â£0.44)
2026-01-30 15:09:34,301 - INFO -    ğŸ“¦ [8/30] Scraping...
2026-01-30 15:09:37,880 - INFO -       â­ï¸  Skipped: Wrong category (expected 'Fruit', got 'melon & pineapple')
2026-01-30 15:09:39,336 - INFO -    ğŸ“¦ [9/30] Scraping...
2026-01-30 15:09:42,886 - INFO -       â­ï¸  Skipped: Wrong category (expected 'Fruit', got 'apples')
2026-01-30 15:09:43,966 - INFO -    ğŸ“¦ [10/30] Scraping...
2026-01-30 15:09:47,254 - INFO -       â­ï¸  Skipped: Wrong category (expected 'Fruit', got 'view all salads & stir fry')
2026-01-30 15:09:48,338 - INFO -    ğŸ“¦ [11/30] Scraping...
2026-01-30 15:09:51,690 - INFO -       â­ï¸  Skipped: Wrong category (expected 'Fruit', got 'apples')
2026-01-30 15:09:53,052 - INFO -    ğŸ“¦ [12/30] Scraping...
2026-01-30 15:09:54,810 - ERROR - âŒ Error in category Fruit: Browser.close: Connection closed while reading from the driver
2026-01-30 15:09:54,816 - ERROR - Traceback (most recent call last):
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/src/collectors/scrapers/supermarkets/asda/main.py", line 109, in run_supermarket_bucket_crawl
    product_list = scraper.scrape_category_bucket(
        cat_name,
        url,
        max_products=max_products_per_category
    )
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/src/collectors/scrapers/supermarkets/asda/scraper.py", line 524, in scrape_category_bucket
    browser.close()
    ~~~~~~~~~~~~~^^
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py", line 14335, in close
    return mapping.from_maybe_impl(self._sync(self._impl_obj.close(reason=reason)))
                                   ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py", line 115, in _sync
    return task.result()
           ~~~~~~~~~~~^^
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_browser.py", line 241, in close
    raise e
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_browser.py", line 238, in close
    await self._channel.send("close", None, {"reason": reason})
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py", line 69, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py", line 559, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
Exception: Browser.close: Connection closed while reading from the driver

2026-01-30 15:09:54,817 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:09:54,817 - INFO - ğŸ“¦ [2/9] Category: Vegetables
2026-01-30 15:09:54,817 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:09:57,294 - INFO - ğŸ›’ Opening Category: Vegetables
2026-01-30 15:09:57,295 - INFO -    URL: https://www.asda.com/groceries/fruit-veg-flowers/vegetables-potatoes
2026-01-30 15:10:02,084 - INFO - ğŸª Cookie banner cleared.
2026-01-30 15:10:05,100 - INFO -    ğŸ“œ Scrolling to load products...
2026-01-30 15:10:12,798 - INFO -    ğŸ” Category filter - Keywords: potatoes, fruit, vegetables, veg, flowers
2026-01-30 15:10:12,800 - INFO -    ğŸ” Analyzing 154 links...
2026-01-30 15:10:12,801 - INFO -    ğŸ”— Found 46 potential product links (filtered by category)
2026-01-30 15:10:12,801 - INFO -    ğŸ“¦ Starting to scrape products...
2026-01-30 15:10:12,801 - INFO -    ğŸ“¦ [1/46] Scraping...
2026-01-30 15:10:16,174 - INFO -       âœ… Got: ASDA British Swede (Â£0.62)
2026-01-30 15:10:17,152 - INFO -    ğŸ“¦ [2/46] Scraping...
2026-01-30 15:10:20,288 - INFO -       â­ï¸  Skipped: Wrong category (expected 'Vegetables', got 'onions & leeks')
2026-01-30 15:10:21,209 - INFO -    ğŸ“¦ [3/46] Scraping...
2026-01-30 15:10:24,472 - INFO -       â­ï¸  Skipped: Wrong category (expected 'Vegetables', got 'free range eggs')
2026-01-30 15:10:25,743 - INFO -    ğŸ“¦ [4/46] Scraping...
2026-01-30 15:10:28,939 - INFO -       â­ï¸  Skipped: Wrong category (expected 'Vegetables', got 'cabbage & sprouts')
2026-01-30 15:10:30,309 - INFO -    ğŸ“¦ [5/46] Scraping...
2026-01-30 15:10:35,863 - INFO - 

âš ï¸  Scraping interrupted by user (Ctrl+C)
2026-01-30 15:10:35,863 - INFO - ğŸ’¾ Saving progress...
2026-01-30 15:10:35,863 - INFO - ================================================================================
2026-01-30 15:10:35,863 - INFO - ğŸ“Š SCRAPING SUMMARY
2026-01-30 15:10:35,864 - INFO - ================================================================================
2026-01-30 15:10:35,864 - INFO - âœ… Successful categories: 0/9
2026-01-30 15:10:35,864 - INFO - ğŸ“¦ Total products scraped: 0
2026-01-30 15:10:35,864 - INFO - âŒ Failed categories: Fruit
2026-01-30 15:10:35,864 - INFO - ğŸ’¾ Database: UK_food_intelligence_platform.Asda_products
2026-01-30 15:10:35,864 - INFO - ================================================================================
2026-01-30 15:10:35,866 - INFO - ğŸ”’ Database connection closed
2026-01-30 15:10:36,206 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2026-01-30 15:10:36,207 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2026-01-30 15:10:36,207 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
