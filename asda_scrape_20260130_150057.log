2026-01-30 15:00:57,557 - INFO - ================================================================================
2026-01-30 15:00:57,558 - INFO - ğŸš€ Starting Asda Supermarket Scraping
2026-01-30 15:00:57,558 - INFO - ================================================================================
2026-01-30 15:00:57,739 - INFO - âœ… Successfully connected to MongoDB
2026-01-30 15:00:57,739 - INFO - ğŸ“‹ Scraping 9 categories
2026-01-30 15:00:57,739 - INFO - ğŸ“… Date: 2026-01-30
2026-01-30 15:00:57,739 - INFO - ğŸ¯ Target: 50 products per category
2026-01-30 15:00:57,739 - INFO - 
2026-01-30 15:00:57,739 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:00:57,739 - INFO - ğŸ“¦ [1/9] Category: Fruit
2026-01-30 15:00:57,739 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:01:01,062 - INFO - ğŸ›’ Opening Category: Fruit
2026-01-30 15:01:01,063 - INFO -    URL: https://www.asda.com/groceries/fruit-veg-flowers/fruit
2026-01-30 15:01:05,894 - INFO - ğŸª Cookie banner cleared.
2026-01-30 15:01:08,900 - INFO -    ğŸ“œ Scrolling to load products...
2026-01-30 15:01:16,726 - INFO -    ğŸ” Category path filter: fruit-veg-flowers/fruit
2026-01-30 15:01:16,729 - INFO -    ğŸ” Analyzing 134 links...
2026-01-30 15:01:16,730 - ERROR -    âŒ No product links found for Fruit
2026-01-30 15:01:16,731 - INFO -    ğŸ’¾ Saved debug HTML to debug_asda_Fruit_1769785276.html
2026-01-30 15:01:17,107 - WARNING - âš ï¸  No products scraped for Fruit
2026-01-30 15:01:17,108 - INFO - 
2026-01-30 15:01:17,108 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:01:17,108 - INFO - ğŸ“¦ [2/9] Category: Vegetables
2026-01-30 15:01:17,108 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:01:19,571 - INFO - ğŸ›’ Opening Category: Vegetables
2026-01-30 15:01:19,571 - INFO -    URL: https://www.asda.com/groceries/fruit-veg-flowers/vegetables-potatoes
2026-01-30 15:01:24,247 - INFO - ğŸª Cookie banner cleared.
2026-01-30 15:01:27,254 - INFO -    ğŸ“œ Scrolling to load products...
2026-01-30 15:01:35,025 - INFO -    ğŸ” Category path filter: fruit-veg-flowers/vegetables-potatoes
2026-01-30 15:01:35,028 - INFO -    ğŸ” Analyzing 162 links...
2026-01-30 15:01:35,029 - ERROR -    âŒ No product links found for Vegetables
2026-01-30 15:01:35,031 - INFO -    ğŸ’¾ Saved debug HTML to debug_asda_Vegetables_1769785295.html
2026-01-30 15:01:35,367 - WARNING - âš ï¸  No products scraped for Vegetables
2026-01-30 15:01:35,367 - INFO - 
2026-01-30 15:01:35,367 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:01:35,367 - INFO - ğŸ“¦ [3/9] Category: Meat
2026-01-30 15:01:35,368 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:01:37,821 - INFO - ğŸ›’ Opening Category: Meat
2026-01-30 15:01:37,822 - INFO -    URL: https://www.asda.com/groceries/meat-poultry-fish/meat-poultry
2026-01-30 15:01:43,395 - INFO - ğŸª Cookie banner cleared.
2026-01-30 15:01:46,397 - INFO -    ğŸ“œ Scrolling to load products...
2026-01-30 15:01:54,410 - INFO -    ğŸ” Category path filter: meat-poultry-fish/meat-poultry
2026-01-30 15:01:54,418 - INFO -    ğŸ” Analyzing 196 links...
2026-01-30 15:01:54,420 - ERROR -    âŒ No product links found for Meat
2026-01-30 15:01:54,422 - INFO -    ğŸ’¾ Saved debug HTML to debug_asda_Meat_1769785314.html
2026-01-30 15:01:54,784 - WARNING - âš ï¸  No products scraped for Meat
2026-01-30 15:01:54,784 - INFO - 
2026-01-30 15:01:54,784 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:01:54,784 - INFO - ğŸ“¦ [4/9] Category: Fish
2026-01-30 15:01:54,784 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:01:57,433 - INFO - ğŸ›’ Opening Category: Fish
2026-01-30 15:01:57,434 - INFO -    URL: https://www.asda.com/groceries/meat-poultry-fish/fish-seafood
2026-01-30 15:02:01,783 - INFO -    ğŸ“œ Scrolling to load products...
2026-01-30 15:02:01,786 - ERROR - âŒ Critical Error in Fish: Page.evaluate: Target page, context or browser has been closed
2026-01-30 15:02:01,793 - ERROR - Traceback (most recent call last):
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/src/collectors/scrapers/supermarkets/asda/scraper.py", line 391, in scrape_category_bucket
    page.evaluate("window.scrollBy(0, 1000)")
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py", line 8562, in evaluate
    self._sync(
    ~~~~~~~~~~^
        self._impl_obj.evaluate(expression=expression, arg=mapping.to_impl(arg))
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py", line 115, in _sync
    return task.result()
           ~~~~~~~~~~~^^
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_page.py", line 464, in evaluate
    return await self._main_frame.evaluate(expression, arg)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_frame.py", line 320, in evaluate
    await self._channel.send(
    ...<6 lines>...
    )
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py", line 69, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py", line 559, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
playwright._impl._errors.TargetClosedError: Page.evaluate: Target page, context or browser has been closed

2026-01-30 15:02:02,042 - WARNING - âš ï¸  No products scraped for Fish
2026-01-30 15:02:02,043 - INFO - 
2026-01-30 15:02:02,043 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:02:02,043 - INFO - ğŸ“¦ [5/9] Category: Bakery
2026-01-30 15:02:02,043 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:02:04,275 - INFO - ğŸ›’ Opening Category: Bakery
2026-01-30 15:02:04,275 - INFO -    URL: https://www.asda.com/groceries/bakery/bread-rolls
2026-01-30 15:02:08,974 - ERROR - âŒ Error in category Bakery: Browser.close: Connection closed while reading from the driver
2026-01-30 15:02:08,976 - ERROR - Traceback (most recent call last):
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/src/collectors/scrapers/supermarkets/asda/main.py", line 109, in run_supermarket_bucket_crawl
    product_list = scraper.scrape_category_bucket(
        cat_name,
        url,
        max_products=max_products_per_category
    )
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/src/collectors/scrapers/supermarkets/asda/scraper.py", line 484, in scrape_category_bucket
    browser.close()
    ~~~~~~~~~~~~~^^
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/sync_api/_generated.py", line 14335, in close
    return mapping.from_maybe_impl(self._sync(self._impl_obj.close(reason=reason)))
                                   ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_sync_base.py", line 115, in _sync
    return task.result()
           ~~~~~~~~~~~^^
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_browser.py", line 241, in close
    raise e
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_browser.py", line 238, in close
    await self._channel.send("close", None, {"reason": reason})
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py", line 69, in send
    return await self._connection.wrap_api_call(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/yongyili/Documents/GitHub/uk-food-nutrition-data-platform/.venv/lib/python3.13/site-packages/playwright/_impl/_connection.py", line 559, in wrap_api_call
    raise rewrite_error(error, f"{parsed_st['apiName']}: {error}") from None
Exception: Browser.close: Connection closed while reading from the driver

2026-01-30 15:02:08,976 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:02:08,977 - INFO - ğŸ“¦ [6/9] Category: Dessert
2026-01-30 15:02:08,977 - INFO - â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-01-30 15:02:10,474 - INFO - 

âš ï¸  Scraping interrupted by user (Ctrl+C)
2026-01-30 15:02:10,474 - INFO - ğŸ’¾ Saving progress...
2026-01-30 15:02:10,474 - INFO - ================================================================================
2026-01-30 15:02:10,475 - INFO - ğŸ“Š SCRAPING SUMMARY
2026-01-30 15:02:10,475 - INFO - ================================================================================
2026-01-30 15:02:10,475 - INFO - âœ… Successful categories: 0/9
2026-01-30 15:02:10,475 - INFO - ğŸ“¦ Total products scraped: 0
2026-01-30 15:02:10,475 - INFO - âŒ Failed categories: Fruit, Vegetables, Meat, Fish, Bakery
2026-01-30 15:02:10,475 - INFO - ğŸ’¾ Database: UK_food_intelligence_platform.Asda_products
2026-01-30 15:02:10,475 - INFO - ================================================================================
2026-01-30 15:02:10,478 - INFO - ğŸ”’ Database connection closed
2026-01-30 15:02:10,884 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
